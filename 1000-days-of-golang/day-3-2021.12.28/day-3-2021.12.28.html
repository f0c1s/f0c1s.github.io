<html lang="en">
<head>
<meta charset="UTF-8">
<title>
blog.f0c1s.com/1000-days-of-golang/day 3
</title>
<script src="../../setup.js" async></script>
<link rel="stylesheet" href="../../index.css" /> <link rel="stylesheet" href="../../highlight/styles/monokai.min.css"/>
<script src="../../highlight/highlight.min.js"></script>
</head>
<body onload="setup()">
<h1>
/f0c1s/blog/1000-days-of-golang/Day 3
</h1>
<p>2021.12.28 Tuesday</p>
<p>
<a href="../../index.html">blog</a> <a href="../../1000-days-of-golang/1000-days-of-golang.html">1000-days-of-golang</a> <a href="../../1000-days-of-golang/day-3-2021.12.28/day-3-2021.12.28.html">+ Day 3 of 1000 days of golang 2021.12.28 Tuesday</a>
</p>
<h2 id="lets-go">lets go</h2>
<h3 id="recap.">recap.</h3>
<ul>
<li>Made Println() copy as printNewLine and it worked.</li>
<li>Tried replacing Fprintln and it was too much, and incomplete. There are so many moving pieces.</li>
<li>interface{} is any, at least from 1.18+</li>
<li>Go has struct</li>
<li>Go has default/zero values for variables that are not initialized</li>
<li>There is no easy way to reverse an array, only for loop</li>
<li>Oh, Go only has for loop.</li>
</ul>
<h2 id="mapping-over-an-array-of-numbers">Mapping over an array of numbers</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="kw">package</span> main</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a><span class="kw">import</span> <span class="st">&quot;fmt&quot;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a><span class="kw">func</span> incrementAllBy1(nums []<span class="dt">int</span>) []<span class="dt">int</span> {</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true"></a>    incremented := <span class="bu">make</span>([]<span class="dt">int</span>, <span class="bu">len</span>(nums))</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true"></a>    <span class="kw">for</span> index, value := <span class="kw">range</span> nums {</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true"></a>        incremented[index] = value + <span class="dv">1</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true"></a>    }</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true"></a>    <span class="kw">return</span> incremented</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true"></a></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true"></a>}</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true"></a><span class="kw">func</span> main() {</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true"></a>    numbers := []<span class="dt">int</span>{<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>}</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true"></a>    fmt.Println(numbers, incrementAllBy1(numbers))</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true"></a>}</span></code></pre></div>
<h2 id="passing-a-mapping-function">Passing a mapping function</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="kw">package</span> main</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a><span class="kw">import</span> <span class="st">&quot;fmt&quot;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a><span class="kw">func</span> process(mapFn <span class="kw">func</span>(<span class="dt">int</span>) <span class="dt">int</span>, nums []<span class="dt">int</span>) []<span class="dt">int</span> {</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true"></a>    mapped := <span class="bu">make</span>([]<span class="dt">int</span>, <span class="bu">len</span>(nums))</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true"></a>    <span class="kw">for</span> index, value := <span class="kw">range</span> nums {</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true"></a>        mapped[index] = mapFn(value)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true"></a>    }</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true"></a>    <span class="kw">return</span> mapped</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true"></a>}</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true"></a></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true"></a><span class="kw">func</span> incrementByOne(num <span class="dt">int</span>) <span class="dt">int</span> {</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true"></a>    <span class="kw">return</span> num + <span class="dv">1</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true"></a>}</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true"></a></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true"></a><span class="kw">func</span> quadruple(num <span class="dt">int</span>) <span class="dt">int</span> {</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true"></a>    <span class="kw">return</span> <span class="dv">4</span> * num</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true"></a>}</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true"></a></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true"></a><span class="kw">func</span> main() {</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true"></a>    numbers := []<span class="dt">int</span>{<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>, <span class="dv">8</span>, <span class="dv">9</span>, <span class="dv">10</span>}</span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true"></a>    fmt.Println(numbers, process(incrementByOne, numbers))</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true"></a>    fmt.Println(numbers, process(quadruple, numbers))</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true"></a>}</span></code></pre></div>
<pre class="shell"><code>go run map-over-numbers-map-fn-passing.go 
[1 2 3 4 5 6 7 8 9 10] [2 3 4 5 6 7 8 9 10 11]
[1 2 3 4 5 6 7 8 9 10] [4 8 12 16 20 24 28 32 36 40]
</code></pre>
<h2 id="binary-search">binary search</h2>
<div class="sourceCode" id="cb4"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="kw">package</span> main</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a><span class="kw">import</span> (</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a>    <span class="st">&quot;errors&quot;</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true"></a>    <span class="st">&quot;fmt&quot;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true"></a>    <span class="st">&quot;math/rand&quot;</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true"></a>    <span class="st">&quot;sort&quot;</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true"></a>    <span class="st">&quot;time&quot;</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true"></a>)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true"></a><span class="kw">func</span> randoms(count <span class="dt">int</span>) []<span class="dt">int</span> {</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true"></a>    rand.Seed(time.Now().Unix())</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true"></a>    <span class="kw">return</span> rand.Perm(count)</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true"></a>}</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true"></a></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true"></a><span class="kw">func</span> binarySearch(nums []<span class="dt">int</span>, toFind <span class="dt">int</span>) (index <span class="dt">int</span>, err <span class="dt">error</span>) {</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true"></a>    min, max := <span class="dv">0</span>, <span class="bu">len</span>(nums)-<span class="dv">1</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true"></a></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true"></a>    <span class="kw">for</span> min &lt;= max {</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true"></a>        mid := (min + max) / <span class="dv">2</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true"></a>        <span class="co">//fmt.Println(mid)</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true"></a>        <span class="kw">if</span> nums[mid] == toFind {</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true"></a>            <span class="kw">return</span> mid, <span class="ot">nil</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true"></a>        } <span class="kw">else</span> <span class="kw">if</span> nums[mid] &gt; toFind {</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true"></a>            max = mid - <span class="dv">1</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true"></a>        } <span class="kw">else</span> <span class="kw">if</span> nums[mid] &lt; toFind {</span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true"></a>            min = mid + <span class="dv">1</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true"></a>        }</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true"></a>    }</span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true"></a>    <span class="kw">return</span> <span class="dv">-1</span>, errors.New(<span class="st">&quot;cannot find the number&quot;</span>)</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true"></a>}</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true"></a></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true"></a><span class="kw">func</span> main() {</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true"></a>    <span class="kw">const</span> count = <span class="dv">20</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true"></a>    rs := randoms(count)</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true"></a>    sort.Ints(rs)</span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true"></a></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true"></a>    r := rand.Intn(count * <span class="dv">2</span>)</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true"></a>    fmt.Println(rs, r)</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true"></a>    index, err := binarySearch(rs, r)</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true"></a>    <span class="kw">if</span> err != <span class="ot">nil</span> {</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true"></a>        fmt.Println(err)</span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true"></a>        <span class="kw">return</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true"></a>    }</span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true"></a>    fmt.Println(index, rs[index])</span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true"></a>}</span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true"></a></span></code></pre></div>
<pre class="shell"><code>go run binary-search.go
[0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19] 8
8 8

go run binary-search.go
[0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19] 38
cannot find the number
</code></pre>
<p>Things I learnt from this:</p>
<ul>
<li>math/rand.Perm generates permutaion of numbers; an array of random numbers uptil n</li>
<li>division <code>/</code> operator returns type of first operand</li>
<li>you can generate your errors with errors.New(message string)</li>
<li>sort.Ints(array) will sort the array</li>
<li>rand.Intn(limit) will return a random integer smaller than limit</li>
</ul>
<h2 id="information-in-questions-form">Information in questions form</h2>
<h3 id="how-to-sort-an-array-of-integers-in-golang">How to sort an array of integers in golang</h3>
<div class="sourceCode" id="cb6"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a>sort.Ints(array)</span></code></pre></div>
<h3 id="how-to-generate-a-random-number">How to generate a random number</h3>
<div class="sourceCode" id="cb7"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a>rand.Intn(limit)</span></code></pre></div>
<h3 id="how-to-generate-an-array-of-random-numbers">How to generate an array of random numbers</h3>
<div class="sourceCode" id="cb8"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a>rand.Perm(limit)</span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a><span class="kw">package</span> main</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true"></a></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true"></a><span class="kw">import</span> (</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true"></a>    <span class="st">&quot;fmt&quot;</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true"></a>    <span class="st">&quot;math/rand&quot;</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true"></a>)</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true"></a><span class="kw">func</span> main() {</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true"></a>    <span class="kw">const</span> limit = <span class="dv">20</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true"></a>    rs := <span class="bu">make</span>([]<span class="dt">int</span>, limit)</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true"></a>    <span class="kw">for</span> i := <span class="dv">0</span>; i &lt; limit; i++ {</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true"></a>        rs[i] = rand.Intn(limit)</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true"></a>    }</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true"></a>    fmt.Println(rs, limit)</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true"></a>}</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true"></a><span class="co">// [1 7 7 19 1 18 5 0 16 0 14 11 2 9 8 14 11 5 17 6] 20</span></span></code></pre></div>
<h3 id="what-does-division-operator-return-in-golang">What does division <code>/</code> operator return in golang</h3>
<p>It returns type of its first operand.</p>
<h3 id="what-is-sort.ints-in-golang">What is sort.Ints in golang</h3>
<div class="sourceCode" id="cb10"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true"></a><span class="kw">type</span> IntSlice []<span class="dt">int</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true"></a></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true"></a><span class="co">// Ints sorts a slice of ints in increasing order.</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true"></a><span class="kw">func</span> Ints(x []<span class="dt">int</span>) { Sort(IntSlice(x)) }</span></code></pre></div>
<h2 id="list-all-files-in-a-directory">List all files in a directory</h2>
<div class="sourceCode" id="cb11"><pre class="sourceCode go"><code class="sourceCode go"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true"></a><span class="kw">package</span> main</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true"></a><span class="kw">import</span> (</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true"></a>    <span class="st">&quot;fmt&quot;</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true"></a>    <span class="st">&quot;log&quot;</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true"></a>    <span class="st">&quot;os&quot;</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true"></a>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true"></a></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true"></a><span class="kw">func</span> main() {</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true"></a>    dir, err := os.Open(os.Args[<span class="dv">1</span>])</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true"></a>    <span class="kw">if</span> err != <span class="ot">nil</span> {</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true"></a>        log.Fatalf(<span class="st">&quot;failed to open directory: %s&quot;</span>, os.Args[<span class="dv">1</span>])</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true"></a>    }</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true"></a>    <span class="kw">defer</span> dir.Close()</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true"></a></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true"></a>    files, err := dir.Readdirnames(<span class="dv">0</span>)</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true"></a>    <span class="kw">if</span> err != <span class="ot">nil</span> {</span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true"></a>        log.Fatal(<span class="st">&quot;reading all directory content failed&quot;</span>)</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true"></a>    }</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true"></a>    <span class="kw">for</span> _, name := <span class="kw">range</span> files {</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true"></a>        fmt.Println(name)</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true"></a>    }</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true"></a>}</span></code></pre></div>
<pre class="shell"><code>f0c1s@kali:~/go/src/day-3-of-1000-days-of-go $
go run list-all-files-in-a-directory.go ./
list-all-files-in-a-directory.go
random-number-array.go
map-over-numbers-map-fn-passing.go
map-over-numbers.go
binary-search.go
.idea
</code></pre>
<p>I need to look at</p>
<ul>
<li>log package</li>
<li>os.Open, and os package in general</li>
</ul>
